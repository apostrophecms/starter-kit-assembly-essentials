{% extends "outerLayoutBase.html" %}
{% import 'apostrophe-palette-widgets:macros.html' as palette %}

{% if data.piece %}
  {% if data.piece.seoTitle %}
    {% set title = data.piece.seoTitle %}
  {% else %}
    {% set title = data.piece.title %}
  {% endif %}
  {% else %}
  {% if data.page.seoTitle %}
    {% set title = data.page.seoTitle %}
  {% else %}
    {% set title = data.page.title %}
  {% endif %}
{% endif %}

{% block title %}{{ title }}{% endblock %}

{% block extraHead %}
  {% if data.isDev %}
    {# For live reload #}
    <link href="http://localhost:9002/wp/theme-{{ data.theme }}.css" rel="stylesheet" />
  {% endif %}
  {# Recommended, to provide metadata for SEO and Open Graph #}
  {% include "apostrophe-seo:view.html" %}
  {% include "apostrophe-open-graph:view.html" %}
{% endblock %}

{% block extraBody %}
  {# Remove if not using apostrophe-browser-requirements #}
  {{ apos.browserRequirements.message() }}
  {% if data.isDev %}
    {# For live reload #}
    <script src="http://localhost:9002/wp/theme-{{ data.theme }}.js"></script>
  {% endif %}
  {{ palette.stylesheetLink(data.global) }}
  {{ palette.stylesheetTag() }}
{% endblock %}
